"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[8078],{90517:(t,e,i)=>{i.r(e),i.d(e,{WikiMigrationModal:()=>A});var o=i(77094),n=i.n(o),a=i(67294),s=i(480),r=i(16489),l=i(41892),d=i(88108),c=i(5366),u=i(50906),g=i(30149),h=i(37181),m=i(29919),w=i(79315),b=i(24405),p=i(34859),k=i(45589),f=i(61519),y=i(36488),x=i(22346),M=i(18647);function v(t){let{imageUrl:e,isActive:i}=t;window.__c="EducationTabPanel";const o=(0,b.yK)((t=>({container:{flexGrow:1,justifySelf:"flex-end",display:"flex",flexDirection:"column",justifyContent:"flex-end",height:i?"100%":void 0},image:{width:450,display:i?void 0:"none",borderRadius:6}})),[i]);return n()("div",{style:o.container},void 0,n()("img",{style:o.image,src:e}))}var C=i(82990),B=i(64921);function T(t){let{title:e,subtitle:i,icon:o,isActive:a,onClick:s}=t;window.__c="EducationModalTabButton";const r=(0,b.yK)((t=>{const e="dark"===t.mode?t.cardHoveredBackground:t.cardContentBackground;return{container:{display:"flex",alignItems:"flex-start",borderRadius:6,padding:15,paddingRight:24,marginBottom:8,transition:"all .2s ease",width:"100%",...a&&{background:e,boxShadow:t.largeLightBoxShadow}},containerHover:{background:a?e:t.buttonHoveredBackground},textContainer:{marginLeft:9},icon:{width:42,height:42,...!a&&{fill:t.mediumIconColor},...a&&{fill:t.teamAccessLevelIcons.blue}},title:{minHeight:42,display:"flex",alignItems:"center",fontSize:14,fontWeight:C.Z.fontWeight.semibold,lineHeight:1.2},subtitle:{fontSize:12,color:t.mediumTextColor,fontWeight:C.Z.fontWeight.regular,marginTop:4}}}),[a]);return n()(B.Z,{style:r.container,hoveredStyle:r.containerHover,onClick:s},void 0,o(r.icon),n()("div",{style:r.textContainer},void 0,n()("div",{style:r.title},void 0,e),a&&n()("div",{style:r.subtitle},void 0,i)))}function I(t){let{tabOptions:e,onTabClick:i,currentTabIndex:o,style:a}=t;window.__c="EducationModalContent";const s=(0,b.Fg)(),r=(0,b.yK)((()=>({content:{display:"flex",flexDirection:"row",...a},tabButtons:{flexShrink:0,alignSelf:"flex-end",width:272,display:"flex",minHeight:325,alignItems:"center",flexDirection:"column",marginBottom:32},tabPanels:{paddingLeft:32}})),[a]);return n()("div",{style:r.content},void 0,n()("div",{style:r.tabButtons},void 0,e.map(((t,e)=>{let{title:a,subtitle:s,icon:r}=t;return n()(T,{title:a,subtitle:s,onClick:()=>i(e),icon:r,isActive:o===e},e)}))),n()("div",{style:r.tabPanels},void 0,e.map(((t,e)=>{let{imageUrl:i}=t;return n()(v,{imageUrl:i(s),isActive:o===e},e)}))))}var Z=i(42922),_=i(89728);function S(t){let{onNextClick:e,currentTabIndex:i,numTabOptions:o,learnMoreLink:a,doneButtonProps:s,secondaryButtonProps:r}=t;window.__c="EducationModalFooter";const l=(0,b.yK)((t=>({blueButton:{height:32,minWidth:94},container:{display:"flex",margin:20,alignItems:"center",justifyContent:"space-between"},secondaryButton:{color:t.mediumTextColor,marginRight:18}})),[]),d=i===o-1,u=d?n()(Z.Z,{style:l.blueButton,onClick:s.onClick},void 0,s.buttonText):n()(Z.Z,{style:l.blueButton,onClick:e},void 0,n()(c.FormattedMessage,{defaultMessage:"Next",id:"educationModal.nextButtonCta",description:"Button text in the education modal that continues to the next tab of the education flow."}));return n()("div",{style:l.container},void 0,a,n()("div",{}),n()("div",{},void 0,r&&(r.showOnLastTab||!d)&&n()(_.Z,{style:l.secondaryButton,onClick:r.onClick},void 0,r.buttonText),u))}function W(t){window.__c="EducationModalHeader";const e=(0,b.yK)((t=>({title:{textAlign:"center",fontSize:18,color:t.mediumTextColor},subtitle:{textAlign:"center",fontWeight:C.Z.fontWeight.bold,fontSize:28,margin:"0 auto",maxWidth:450}})),[]);return n()("div",{style:{marginTop:46}},void 0,t.title&&n()("div",{style:e.title},void 0,t.title),t.subtitle&&n()("div",{style:e.subtitle},void 0,t.subtitle))}function H(t){let{onNextClick:e,onDismiss:i,onTabClick:o,currentTabIndex:a,tabOptions:s,modalMinHeight:l,doneButtonProps:d,secondaryButtonProps:c,title:u,subtitle:g,learnMoreLink:h}=t;window.__c="EducationModal";const m=(0,r.qz)(void 0,k.Z),w=(0,r.VK)((()=>0===m.state.scrollTop),[m]),v=(0,b.yK)((t=>{const e="calc(100vh - 100px)",i=`min(${e}, ${l})`;return{modalInner:{background:t.sidebarBackground,borderRadius:12,margin:50,overflow:"hidden",minHeight:i,maxHeight:e},contentContainer:{minHeight:i,maxHeight:e,display:"flex",flexDirection:"column"},tabContainer:{paddingTop:16,paddingLeft:32,flexGrow:1},scroller:{display:"flex",flexGrow:1,flexDirection:"column",justifyContent:"stretch"}}}),[l]);return n()(x.Z,{open:!0,innerStyle:v.modalInner,preventHideChildrenWhileOpening:!0,onDismiss:i,render:()=>n()(y.Z,{capture:!0,allowEsc:!0,render:()=>n()("div",{style:v.contentContainer},void 0,n()(W,{title:u,subtitle:g}),!w&&n()(f.Z,{size:1}),n()(M.Z,{type:p.Z.Y,style:v.scroller,store:m},void 0,n()(I,{tabOptions:s,style:v.tabContainer,onTabClick:o,currentTabIndex:a})),n()(f.Z,{size:1}),n()(S,{onNextClick:e,doneButtonProps:d,numTabOptions:s.length,currentTabIndex:a,secondaryButtonProps:c,learnMoreLink:h}))})})}var P=i(59230);function A(t){let{}=t;window.__c="WikiMigrationModal";const e=(0,s.O7)();(0,a.useEffect)((()=>{(0,d.exposeDebugValue)("resetWikiOnboarding",(()=>{const{currentUserSettingsStore:t}=w.default.state;t&&g.createAndCommit({userAction:"WikiMigrationModal.resetWikiOnboarding",environment:e,perform:e=>{h.d2({userSettingsStore:t,transaction:e,data:{wiki_onboarding_phase:"unseen"}})}})}))}),[e]);const i=(0,a.useCallback)((()=>{P.Z.state.open&&P.Z.setState({open:!1})}),[]),o=(0,a.useCallback)((()=>{if(!P.Z.state.open)return;const t=P.Z.state.blocks;g.createAndCommit({userAction:"actionRegistry.turnIntoAction.wiki",environment:e,perform:i=>{m.Y({environment:e,blocks:t,transaction:i,source:"onboarding_modal"})}}),i()}),[e,i]),b=(0,a.useCallback)((()=>{u.trackCancelWikiOnboarding(e),i()}),[e,i]),p=(0,r.VK)((()=>P.Z.state.open?P.Z.state.tabIndex:0),[]),k=(0,a.useCallback)((t=>{P.Z.state.open&&P.Z.setState({...P.Z.state,tabIndex:t})}),[]),f=(0,a.useCallback)((t=>{k(t)}),[k]),y=(0,a.useCallback)((()=>{k(p+1)}),[k,p]),x=t=>l.Z.images.wikiMigrationModal[t],M=[{title:n()(c.FormattedMessage,{defaultMessage:"Get a bird eye's view",id:"wikiMigrationModal.tabButton.overview.title",description:"In the wiki migration modal, this is a tab button title that explains how the new wiki product lets you view all your wiki pages easily."}),subtitle:n()(c.FormattedMessage,{defaultMessage:"Create a wiki to track all your pages in one spot.",id:"wikiMigrationModal.tabButton.overview.subtitle",description:"In the wiki migration modal, this is a tab button subtitle that explains how the new wiki product lets you view all your wiki pages easily."}),imageUrl:()=>x("overviewPng"),icon:()=>n()(F,{icon:"ðŸ“"})},{title:n()(c.FormattedMessage,{defaultMessage:"No more outdated content",id:"wikiMigrationModal.tabButton.upToDate.title",description:"In the wiki migration modal, this is a tab button title that explains how the new wiki product lets you check which pages are out of date and which are updated."}),subtitle:n()(c.FormattedMessage,{defaultMessage:"See when pages were last edited so you know your whole team is getting the freshest information.",id:"wikiMigrationModal.tabButton.upToDate.subtitle",description:"In the wiki migration modal, this is a tab button subtitle that explains how the new wiki product lets you check which pages are out of date and which are updated."}),imageUrl:()=>x("upToDatePng"),icon:()=>n()(F,{icon:"ðŸª´"})},{title:n()(c.FormattedMessage,{defaultMessage:"Talk to the right person",id:"wikiMigrationModal.tabButton.owner.title",description:"In the wiki migration modal, this is a tab button title that explains how the new wiki product lets you see the page owner/creator."}),subtitle:n()(c.FormattedMessage,{defaultMessage:"Easily view a pageâ€™s owner right from your wiki.",id:"wikiMigrationModal.tabButton.owner.subtitle",description:"In the wiki migration modal, this is a tab button subtitle that explains how the new wiki product lets you see the page owner/creator."}),imageUrl:()=>x("ownersPng"),icon:()=>n()(F,{icon:"ðŸ™Œ"})},{title:n()(c.FormattedMessage,{defaultMessage:"Add helpful context",id:"wikiMigrationModal.tabButton.tags.title",description:"In the wiki migration modal, this is a tab button title that explains how the new wiki product lets you organize and filter through your pages using tags."}),subtitle:n()(c.FormattedMessage,{defaultMessage:"Sort, filter or tag your pages so they're always easy to access.",id:"wikiMigrationModal.tabButton.tags.subtitle",description:"In the wiki migration modal, this is a tab button subtitle that explains how the new wiki product lets you organize and filter through your pages using tags."}),imageUrl:()=>x("tagsPng"),icon:()=>n()(F,{icon:"ðŸ’¡"})}];return n()(H,{subtitle:n()(c.FormattedMessage,{id:"wikiMigrationModal.title",description:"Title for the wiki migration modal explaining what is new with the database-powered wiki",defaultMessage:"A more powerful wiki"}),onNextClick:y,onDismiss:b,currentTabIndex:p,tabOptions:M,onTabClick:f,modalMinHeight:"650px",doneButtonProps:{onClick:o,buttonText:n()(c.FormattedMessage,{defaultMessage:"Create wiki",id:"wikiMigrationModal.migrateMessage",description:"Button text in the wiki migration modal that closes the modal and completes the migration."})},secondaryButtonProps:{onClick:b,buttonText:n()(c.FormattedMessage,{defaultMessage:"Cancel",id:"wikiMigrationModal.cancelMessage",description:"Button text in the wiki migration modal that closes the modal and cancels the migration."}),showOnLastTab:!0}})}function F(t){return window.__c="WikiMigrationIcon",n()("div",{style:{fontSize:30,marginRight:9,marginTop:12}},void 0,t.icon)}}}]);