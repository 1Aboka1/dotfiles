"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[5645],{78737:(t,e,n)=>{n.r(e),n.d(e,{AutomationModal:()=>w});var o=n(77094),i=n.n(o),a=n(67294),r=n(480),c=n(16489),l=n(24405),u=n(63362),d=n(82990),s=n(33116),p=n(63474),m=n(79315),f=n(58454),v=n(42922),g=n(22346),y=n(89728),x=n(31278),S=n(65187);function w(){window.__c="AutomationModal";const t=(0,c.VK)((()=>f.Z.state),[]),e=(0,r.Fy)(),n=(0,l.yK)((t=>({innerStyle:{padding:"36px",width:e.isMobile?"calc(100% - 20px)":340}})),[e]),o=(0,p.D)(),d=(0,c.VK)((()=>{var t;return null===(t=m.default.state.currentSpaceViewStore)||void 0===t?void 0:t.getSpaceId()}),[]),s=(0,a.useCallback)((t=>{var e;f.Z.setState({open:!1,result:t});const n=f.Z.state;(0,u.W5)(o,{automation_id:n.open?null===(e=n.automationStore)||void 0===e?void 0:e.id:void 0,option:t})}),[o]),v=function(){const t=(0,c.VK)((()=>f.Z.state),[]),[e,n]=(0,a.useReducer)(((t,e)=>t+1),1),o=(0,a.useRef)(void 0);return(0,a.useEffect)((()=>{t.open&&t.format!==o.current&&(n(void 0),o.current=t.format)}),[t,o]),e}();return i()(g.Z,{open:t.open,innerStyle:n.innerStyle,disableAnimation:!0,render:()=>t.open&&d&&i()(b,{modalState:t,currentSpaceId:d,onDismiss:s},`${v}`)})}function b(t){window.__c="OpenAutomationModal";const{modalState:e,currentSpaceId:n,onDismiss:o}=t,{icon:a}=e.format,r=(0,l.yK)((t=>({wrap:{display:"flex",flexDirection:"column"},buttonWrap:{display:"flex",flexDirection:"column",gap:10,marginTop:10},textWrap:{whiteSpace:"pre-wrap",wordBreak:"break-word",textAlign:"center",fontWeight:d.Z.fontWeight.medium,marginTop:10,marginBottom:10,display:"flex",flexDirection:"column",alignItems:"center"},icon:{marginBottom:10},cancelButton:{justifyContent:"center"}})),[]),{store:c}=(0,s.Cl)({parentSpaceId:n,initialValue:e.format.text,onChange:()=>{}}),u=[i()(v.Z,{isLarge:!0,onClick:()=>o("continue")},"continue",e.format.continueButtonText),i()(y.Z,{isLarge:!0,onClick:()=>o("cancel"),isLightGray:!0,style:r.cancelButton},"cancel",e.format.cancelButtonText)];return i()("div",{style:r.wrap},void 0,i()("div",{style:r.textWrap},void 0,a&&e.automationStore&&i()("div",{style:r.icon},void 0,i()(x.Z,{size:50,icon:{icon:a,pointer:e.automationStore.pointer},disabled:!0,isEmptyPage:!1,bucket:"public",onChange:()=>{}})),i()(S.Z,{disabled:!0,store:c})),i()("div",{style:r.buttonWrap},void 0,u))}}}]);